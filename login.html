<!DOCTYPE html>
<html lang="pt-br" data-bs-theme="dark">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="icon" href="./img/favicon.png">
        <title>Login - EventPro Solution</title>
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <style>
            .form-container {
                max-width: 350px;
                padding: 1rem;
            }
            html, body {
                height: 100%;
            }
            .home-button {
                position: absolute;
                top: 10px;
                left: 10px;
            }
        </style>
    </head>    
    <body class="d-flex align-items-center py-4 bg-body-tertiary">
        <a href="home.php" class="btn btn-primary home-button">Voltar</a>
        <main class="w-100 m-auto form-container">
            <form action="./Agendamento/Controller/login.php" method="post">
                <h1 class="h3 mb-3 fw-normal">Login</h1>
                <div class="form-floating">
                    <input type="email" class="form-control" id="floatingInput" name="email" placeholder="Coloque seu endereço de email" required>
                    <label for="floatingInput">E-mail</label>
                </div>
                <div class="form-floating">
                    <input type="password" class="form-control" id="floatingPassword" name="senha" placeholder="Senha" required>
                    <label for="floatingPassword">Senha</label>
                </div>
                <div class="form-check text-start my-3">
                    <input type="checkbox" id="FlexCheckDefault" class="form-check-input">
                    <label for="FlexCheckDefault" class="form-check-label">Lembrar-me</label>
                </div>
                <button class="btn btn-primary w-100 py-2" type="submit">Entrar</button>
                <a href="cadastro.html">Não tem login? Cadastre-se</a>
            </form>
        </main>
        <div id="dialog-message" title="Notification" style="display:none;">
            <p id="dialog-content"></p>
        </div>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
        <script>
            function getQueryParams() {
                const params = {};
                const queryString = window.location.search.substring(1);
                const queryArray = queryString.split("&");
                queryArray.forEach(param => {
                    const [key, value] = param.split("=");
                    params[key] = value ? decodeURIComponent(value.replace(/\+/g, " ")) : null;
                });
                return params;
            }
            
            const params = getQueryParams();
            console.log(params);
    
            if (params.message) {
                $("#dialog-content").text(params.message);
                $("#dialog-message").dialog({
                    modal: true,
                    buttons: {
                        Ok: function() {
                            $(this).dialog("close");
                        }
                    }
                });
            }
        </script>
    </body>
    
</html>
